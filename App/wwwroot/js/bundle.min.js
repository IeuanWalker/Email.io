(function(root,factory){"use strict";typeof define=="function"&&define.amd?define([],factory):typeof exports=="object"?module.exports=factory():root.VCountdown=factory()})(this,function(){"use strict";var VCountdown=function(options){if(!this||!(this instanceof VCountdown))return new VCountdown(options);if(options||(options={}),!options.target)throw"Provide a target to count characters";this.target=document.querySelector(options.target);this.maxChars=options.maxChars||140;this.countdown()};return VCountdown.prototype={hasClass:function(el,name){return new RegExp("(\\s|^)"+name+"(\\s|$)").test(el.className)},addClass:function(el,name){this.hasClass(el,name)||(el.className+=(el.className?" ":"")+name)},removeClass:function(el,name){this.hasClass(el,name)&&(el.className=el.className.replace(new RegExp("(\\s|^)"+name+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},createEls:function(name,props){var el=document.createElement(name);for(var p in props)props.hasOwnProperty(p)&&(el[p]=props[p]);return el},insertAfter:function(referenceNode,newNode){referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling)},update:function(){var target=this.target,currentCount=target.value.length,remaining=this.maxChars-currentCount;remaining>10?this.removeClass(target.nextElementSibling,"warn"):this.addClass(target.nextElementSibling,"warn");target.nextElementSibling.innerHTML=remaining},setMaxChars:function(){this.target.setAttribute("maxlength",this.maxChars)},charsLen:function(){var span=this.createEls("span",{className:"chars-length"});span.innerHTML=this.maxChars;this.insertAfter(this.target,span);this.update()},countdown:function(){this.setMaxChars();this.charsLen();this.target.addEventListener("keyup",this.update.bind(this),!1)}},VCountdown}),function(){function hasClass(el,className){return el.classList?el.classList.contains(className):!!el.className.match(new RegExp("(\\s|^)"+className+"(\\s|$)"))}function addClass(el,className){el.classList?el.classList.add(className):hasClass(el,className)||(el.className+=" "+className)}function removeClass(el,className){if(el.classList)el.classList.remove(className);else if(hasClass(el,className)){var reg=new RegExp("(\\s|^)"+className+"(\\s|$)");el.className=el.className.replace(reg," ")}}var panelTriggers=document.getElementsByClassName("js-cd-panel-trigger"),i;if(panelTriggers.length>0)for(i=0;i<panelTriggers.length;i++)(function(i){var panelClass="js-cd-panel-"+panelTriggers[i].getAttribute("data-panel"),panel=document.getElementsByClassName(panelClass)[0];panelTriggers[i].addEventListener("click",function(event){event.preventDefault();addClass(panel,"cd-panel--is-visible");document.body.style.overflow="hidden"});panel.addEventListener("click",function(event){(hasClass(event.target,"js-cd-close")||hasClass(event.target,panelClass))&&(event.preventDefault(),removeClass(panel,"cd-panel--is-visible"),document.body.style.overflow=null)})})(i)}();
//# sourceMappingURL=bundle.min.js.map